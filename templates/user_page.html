{% extends "template.html" %}
{% block title %}BookSwap - User Page{% endblock %}
{% block content %}
<h1>Welcome User. <small>Come here to create new posts.</small></h1>
<br>
<div id="content">
    <form method="post" action="{{ url_for('show_user_page', user_id=user_id) }}">
      <button type="submit" class="btn btn-default">Post a new ad</button>
    </form>
    <br>
    <form method="get" action="{{ url_for('show_user_page', user_id=user_id) }}">
        {% if sorting == 'MostRecent' %}
            <input type="radio" name="sorting" value="MostRecent" checked> Most Recent<br>
            <input type="radio" name="sorting" value="OldestFirst"> Oldest First<br>
        {% else %}
            <input type="radio" name="sorting" value="MostRecent"> Most Recent<br>
            <input type="radio" name="sorting" value="OldestFirst" checked> Oldest First<br>
        {% endif %}
      <button type="submit" class="btn btn-default">Apply Filter</button>
    </form>
    <br><br>
    {{ pagination.info }}
    {{ pagination.links }}
    <table>
      <thead>
        <tr>
          <th>Textbook Title</th>
          <th>Author</th>
        </tr>
      </thead>
      <tbody>
        {% for post in posts %}
          <tr>
            <td><a href="{{ url_for('show_post', post_id=post.post_id)}}">{{post.textbook_title}}</a></td>
            <td>{{post.textbook_author}}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {{ pagination.links }}
    <form method="get" action="{{ url_for('edit_account', user_id=user_id) }}">
      <button type="submit" class="btn btn-default">Edit Account</button>
    </form>
</div>
{% endblock %}